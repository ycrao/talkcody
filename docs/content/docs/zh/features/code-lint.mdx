---
title: 代码检查
description: 使用 TalkCody 内置的 Lint 功能实时检测代码问题
icon: CircleAlert
---

TalkCody 集成了 [Biome](https://biomejs.dev/) 代码检查工具，提供类似 VSCode 的实时代码质量检测功能。

## 依赖要求

Lint 功能需要以下环境之一：

- **bun** (推荐) - 更快的执行速度
- **Node.js** - 如果 bun 不可用，会自动回退到 npx

请确保您的系统已安装 bun 或 Node.js，并且可以在终端中运行。

## 支持的语言

| 扩展名 | 语言类型 |
|--------|----------|
| `.js` | JavaScript |
| `.jsx` | JSX |
| `.ts` | TypeScript |
| `.tsx` | TSX |
| `.json` | JSON |
| `.jsonc` | JSON with Comments |
| `.css` | CSS |
| `.html` | HTML |

**注意**：Biome 目前不支持 SCSS、Less、Markdown 等文件类型。

## 基本使用

### 自动检测

编辑器会在以下时机自动运行代码检查：

- **文件打开时** - 自动进行首次检查
- **文件保存时** - 保存后立即检查
- **内容变更时** - 编辑停止后延迟检查（默认 1 秒）

检测到的问题会以波浪线显示在编辑器中：
- 红色波浪线 - 错误
- 黄色波浪线 - 警告

### 问题面板

点击编辑器头部的诊断徽章（显示错误/警告数量）可打开问题面板：

- 查看所有诊断信息
- 按严重级别筛选问题
- 点击问题项跳转到对应代码位置


## 设置配置

打开 TalkCody 设置，找到「代码检查」标签页，可以配置：

| 选项 | 说明 |
|------|------|
| 启用代码检查 | 全局开关 |/Users/kks/mygit/talkcody/docs/content/docs/zh/features/code-lint.mdx
| 显示错误 | 是否显示错误级别的诊断 |
| 显示警告 | 是否显示警告级别的诊断 |
| 显示信息 | 是否显示信息级别的诊断 |

## 自定义规则

Lint 会自动读取项目根目录的 `biome.json` 配置文件（如果存在）。

您可以创建此文件来自定义检查规则，例如：

```json
{
  "$schema": "https://biomejs.dev/schemas/1.9.4/schema.json",
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "suspicious": {
        "noExplicitAny": "warn"
      },
      "style": {
        "useConst": "error"
      }
    }
  }
}
```

更多配置选项请参考 [Biome 官方文档](https://biomejs.dev/reference/configuration/)。
